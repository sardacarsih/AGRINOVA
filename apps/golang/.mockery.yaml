# Mockery configuration for generating test mocks
# Documentation: https://vektra.github.io/mockery/latest/configuration/

# Don't automatically generate mocks for all interfaces
# We explicitly define which interfaces need mocks via go:generate directives
all: false

# Output configuration
dir: "{{.InterfaceDir}}/mocks"  # Mocks go in a 'mocks' subdirectory next to the interface
filename: "mock_{{.InterfaceName}}.go"  # Prefix with 'mock_' for clarity
mockname: "Mock{{.InterfaceName}}"  # Mock struct name
outpkg: mocks  # Package name for generated mocks

# Code style
case: snake  # Use snake_case for file names (e.g., mock_master_service.go)
with-expecter: true  # Generate expecter-style mock interface for better test readability

# Documentation
note: "Code generated by mockery. DO NOT EDIT."

# Interface detection
inpackage: false  # Generate mocks in separate 'mocks' package (cleaner)
exported: true  # Only generate mocks for exported interfaces

# Testing utilities
testonly: false  # Don't add //go:build test tag (mocks can be used in test helpers)

# Mock features
replace-type:
  # Add any type replacements if needed
  # Example: github.com/foo/bar.Baz=example.com/alternative.Qux

# Package configuration - applied per package
packages:
  # Master service mocks
  agrinovagraphql/server/internal/master/services:
    interfaces:
      MasterService:
        config:
          # Custom config for MasterService if needed

  # Panen/Harvest service mocks
  agrinovagraphql/server/internal/panen/services:
    interfaces:
      EventBroadcaster:
        config:
          # Custom config for EventBroadcaster if needed

  # WebSocket service mocks
  agrinovagraphql/server/internal/websocket/services:
    interfaces:
      ConnectionManager:
        config:
          # Custom config for ConnectionManager if needed
